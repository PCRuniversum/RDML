library(shiny)
library(shinythemes)
library(rhandsontable)
library(dplyr)

shinyUI(
  tags$div(
    navbarPage(
      title = "RDMLedit",
      theme = shinytheme("cerulean"),
      tabPanel("Files",
               includeMarkdown("md/files.md"),
               fileInput("rdmlFiles",
                         h4("Upload RDML File:"),
                         multiple = TRUE),
               selectizeInput("rdmlFileSlct",
                              "Show File",
                              choices = "",
                              options= list(
                                create =TRUE
                              )),
               selectInput("mergeRdmlsSlct",
                           "Merge RDMLs",
                           multiple = TRUE,
                           choices = ""),
               textInput("dateMadeText", "Date Made",
                         ""),
               textInput("dateUpdatedText", "Date Updated",
                         ""),
               actionButton("removeRDMLBtn",
                            "Remove RDML"),
               actionButton("updateRDMLBtn",
                            "Update"),
               downloadLink("downloadRDML", "Download RDML")),
      navbarMenu("Metadata",
                 tabPanel("ID",
                          selectizeInput("idSlct",
                                         "ID",
                                         choices = "",
                                         options= list(
                                           create =TRUE
                                         )),
                          textInput("idPublisherText", "Publisher",
                                    ""),
                          textInput("idSerialNumberText", "Serial Number",
                                    ""),
                          textInput("idMD5HashText", "MD5 Hash",
                                    ""),
                          actionButton("removeIDBtn",
                                       "Remove ID")),
                 tabPanel("Experimenter",
                          selectizeInput("experimenterSlct",
                                         "ID",
                                         choices = "",
                                         options= list(
                                           create =TRUE
                                         )),
                          
                          textInput("experimenterIdText", "ID",
                                    ""),
                          textInput("experimenterFirstNameText", "First Name",
                                    ""),
                          textInput("experimenterLastNameText", "Last Name",
                                    ""),
                          textInput("experimenterEmailText", "Email",
                                    ""),
                          textInput("experimenterLabNameText", "Lab Name",
                                    ""),
                          textInput("experimenterLabAdressText", "Lab Address",
                                    ""),
                          actionButton("removeExperimenterBtn",
                                       "Remove Experimenter")),
                 tabPanel("Documentation",
                          selectizeInput("documentationSlct",
                                         "ID",
                                         choices = "",
                                         options= list(
                                           create =TRUE
                                         )),
                          textInput("documentationIdText", "ID",
                                    ""),
                          textInput("documentationTextText", "Text",
                                    ""),
                          actionButton("removeDocumentationBtn",
                                       "Remove Documentation")),
                 tabPanel("Dye",
                          selectizeInput("dyeSlct",
                                         "Select Dye",
                                         choices = "",
                                         options= list(
                                           create =TRUE
                                         )),
                          renderUI("dyeIdText"),
                          textInput("dyeDescriptionText", "Text",
                                    ""),
                          actionButton("removeDyeBtn",
                                       "Remove Dye")),
                 tabPanel("Sample",
                          selectizeInput("sampleSlct",
                                         "Select Sample",
                                         choices = "",
                                         options= list(
                                           create =TRUE
                                         )),
                          textInput("sampleIdText", "ID",
                                    ""),
                          selectInput("sampleDocumentationSlct",
                                      "Documentation",
                                      multiple = TRUE,
                                      choices = ""),
                          wellPanel(selectizeInput("samplexRefSlct",
                                                   "Select xRef",
                                                   choices = "",
                                                   options= list(
                                                     create =TRUE
                                                   )),
                                    textInput("samplexRefNameText", 
                                              "xRef Name",
                                              ""),
                                    textInput("samplexRefIdText", 
                                              "xRef ID",
                                              ""),
                                    actionButton("removeSamplexRefBtn",
                                                 "Remove xRef")),
                          wellPanel(selectizeInput("sampleAnnotationSlct",
                                                   "Select Annotation",
                                                   choices = "",
                                                   options= list(
                                                     create =TRUE
                                                   )),
                                    textInput("sampleAnnotationPropertyText", 
                                              "Annotation Property",
                                              ""),
                                    textInput("sampleAnnotationValueText", 
                                              "Annotation Value",
                                              ""),
                                    actionButton("removeSampleAnnotationBtn",
                                                 "Remove Annotation")),
                          selectInput("sampleTypeSlct",
                                      "Type",
                                      choices = c("unkn", "nac",
                                                  "std", "ntp",
                                                  "nrt", "pos",
                                                  "opt")),
                          checkboxInput("sampleInterRunCalibratorChk",
                                        "Inter Run Calibrator",
                                        FALSE),
                          wellPanel(textInput("sampleQuantityValueText", 
                                              "Annotation Property",
                                              ""),
                                    selectInput("sampleQuantityUnitSlct",
                                                "Quantity Unit",
                                                choices = c("cop", "fold",
                                                            "dil", "ng",
                                                            "nMol", "other"))
                                    ),
                          checkboxInput("sampleCalibrationSampleChk",
                                        "Calibartion Sample",
                                        FALSE),
                          wellPanel(textInput("sampleCsmEnzymeText", 
                                              "Enzyme",
                                              ""),
                                    selectInput("sampleCsmPrimingMethodSlct",
                                                "Priming Method",
                                                choices = c("cop", "fold",
                                                            "dil", "ng",
                                                            "nMol", "other")),
                                    checkboxInput("sampleCsmDnaseTreatmentChk",
                                                  "DNAase Treatment",
                                                  FALSE),
                                    selectInput("sampleCsmTccSlct",
                                                "Thermal Cycling Conditions",
                                                choices = c("cop", "fold",
                                                            "dil", "ng",
                                                            "nMol", "other"))
                          ),
                          wellPanel(textInput("sampleTemplateQuantityConcText", 
                                              "Concentration",
                                              ""),
                                    textInput("sampleTemplateQuantityNucleotideText",
                                              "Nucleotide",
                                              "")
                          ),
                          actionButton("removeSampleBtn",
                                       "Remove Sample")),
                 tabPanel("Target",
                          "sfas"),
                 tabPanel("Thermal Cycling Conditions",
                          "sfas")),
      tabPanel("Fluorescence Points")
    ),
    uiOutput("logText")
  )
)
